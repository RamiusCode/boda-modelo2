<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê --><!-- üìÖ COMPONENTE FECHA - FECHA DEL EVENTO DE BODA             --><!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section class="relative w-full py-2 md:py-10 px-4">
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- üå∏ HOJAS DECORATIVAS - Pegadas a los bordes de la pantalla    -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

  <!-- ‚ïê‚ïê‚ïê PRIMERA CAPA (ABAJO): Hojas Doradas ‚ïê‚ïê‚ïê -->

  <!-- Hoja dorada izquierda -->
  <img
    src="/imagenes/hojadorada.png"
    alt="hoja dorada"
    class="absolute left-0 top-1/2 -translate-y-1/2 w-16 h-16 md:w-20 md:h-20 opacity-0 pointer-events-none z-10"
    id="hoja-dorada-fecha-izq"
  />

  <!-- Hoja dorada derecha (volteada horizontalmente) -->
  <img
    src="/imagenes/hojadorada.png"
    alt="hoja dorada"
    class="absolute right-0 top-1/2 -translate-y-1/2 w-16 h-16 md:w-20 md:h-20 opacity-0 pointer-events-none z-10 scale-x-[-1]"
    id="hoja-dorada-fecha-der"
  />

  <!-- ‚ïê‚ïê‚ïê SEGUNDA CAPA (ENCIMA): Flores Laterales ‚ïê‚ïê‚ïê -->

  <!-- Hoja lateral izquierda -->
  <img
    src="/imagenes/florlateral.png"
    alt="Hoja izquierda"
    class="absolute left-0 top-1/2 -translate-y-1/2 w-16 h-16 md:w-20 md:h-20 opacity-0 pointer-events-none z-[11]"
    id="hoja-fecha-izq"
  />

  <!-- Hoja lateral derecha (volteada horizontalmente) -->
  <img
    src="/imagenes/florlateral.png"
    alt="Hoja derecha"
    class="absolute right-0 top-1/2 -translate-y-1/2 w-16 h-16 md:w-20 md:h-20 opacity-0 pointer-events-none z-[11] scale-x-[-1]"
    id="hoja-fecha-der"
  />

  <!-- CONTENEDOR PRINCIPAL -->
  <div class="max-w-2xl mx-auto text-center relative">
    <!-- üïäÔ∏è PALOMAS CON ANILLOS - VUELAN DESDE LOS COSTADOS AL CENTRO -->
    <div
      class="flex justify-center items-center mb-4 md:mb-20 relative h-16"
      id="palomas-container"
    >
      <!-- Paloma izquierda -->
      <div
        class="absolute left-1/2"
        id="paloma-izq"
        style="transform: translateX(-100%);"
      >
        <img
          src="/imagenes/paloma.png"
          alt="Paloma izquierda"
          class="w-16 md:w-32 lg:w-36 h-auto"
        />
      </div>

      <!-- Paloma derecha (volteada) -->
      <div
        class="absolute right-1/2"
        id="paloma-der"
        style="transform: translateX(100%) scaleX(-1);"
      >
        <img
          src="/imagenes/paloma.png"
          alt="Paloma derecha"
          class="w-16 md:w-32 lg:w-36 h-auto"
        />
      </div>
    </div>

    <!-- üíç Texto "Acomp√°√±anos este d√≠a tan especial" -->
    <div class="mb-6" id="texto-invitacion-container">
      <div class="flex items-center justify-center px-4">
        <!-- üìù TEXTO CENTRAL -->
        <div id="texto-invitacion" class="flex-shrink-0">
          <p
            class="font-great-vibes text-3xl md:text-4xl lg:text-5xl text-[#9C7A2E] leading-[1.2] text-center"
          >
            Acomp√°√±anos este d√≠a<br />tan especial
          </p>
        </div>
      </div>
    </div>

    <!-- A√±o 2026 ARRIBA -->
    <div class="mb-4 flex justify-center" id="anio-evento">
      <p class="font-charm text-3xl md:text-4xl text-[#0F3D2E] font-bold">
        2026
      </p>
    </div>

    <!-- üìÖ Fecha con l√≠neas arriba y abajo -->
    <div class="relative max-w-md mx-auto" id="fecha-evento">
      <div class="flex items-center justify-center gap-4 md:gap-6">
        <!-- S√ÅBADO con l√≠neas arriba y abajo -->
        <div class="flex flex-col items-center w-24 md:w-28">
          <div class="w-full h-px bg-[#9C7A2E] mb-2"></div>
          <span
            class="font-charm text-lg md:text-xl lg:text-3xl text-[#0F3D2E] uppercase tracking-wider font-bold text-center"
          >
            S√ÅBADO
          </span>
          <div class="w-full h-px bg-[#9C7A2E] mt-2"></div>
        </div>

        <!-- N√∫mero 26 - CENTRADO -->
        <div
          class="flex items-center justify-center min-w-[80px] md:min-w-[100px]"
        >
          <span
            class="font-charm text-7xl md:text-8xl text-[#9C7A2E] font-bold"
          >
            26
          </span>
        </div>

        <!-- SEPTIEMBRE con l√≠neas arriba y abajo -->
        <div class="flex flex-col items-center w-24 md:w-28">
          <div class="w-full h-px bg-[#9C7A2E] mb-2"></div>
          <span
            class="font-charm text-lg md:text-xl lg:text-3xl text-[#0F3D2E] uppercase tracking-wider font-bold text-center"
          >
            SEPTIEMBRE
          </span>
          <div class="w-full h-px bg-[#9C7A2E] mt-2"></div>
        </div>
      </div>
    </div>

    <!-- HORA DEBAJO -->
    <div class="mt-6 flex justify-center" id="hora-evento">
      <p
        class="font-charm text-2xl md:text-3xl lg:text-4xl text-[#0F3D2E] font-bold"
      >
        17:00 Hrs.
      </p>
    </div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- üé¨ ANIMACIONES CON GSAP - SEPARACI√ìN RESPONSIVE             -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  if (typeof window !== "undefined") {
    document.addEventListener("DOMContentLoaded", () => {
      console.log("üìÖ Iniciando animaciones de fecha...");

      // ‚öôÔ∏è CONFIGURACI√ìN DE SEPARACI√ìN RESPONSIVE
      const SEPARACION = {
        mobile: 70,
        md: 130,
        lg: 170,
        xl: 190,
      };

      const getSeparacion = () => {
        const width = window.innerWidth;
        if (width >= 1280) return SEPARACION.xl;
        if (width >= 1024) return SEPARACION.lg;
        if (width >= 768) return SEPARACION.md;
        return SEPARACION.mobile;
      };

      let separacionActual = getSeparacion();

      // üéØ ESTADO INICIAL
      gsap.set("#paloma-izq", { opacity: 0, x: -200 });
      gsap.set("#paloma-der", { opacity: 0, x: 200 });

      // Flores laterales (ENCIMA)
      gsap.set("#hoja-fecha-izq", {
        opacity: 0,
        x: -20,
        rotation: 0,
        scale: 1,
      });
      gsap.set("#hoja-fecha-der", {
        opacity: 0,
        x: 20,
        rotation: 0,
        scaleX: -1,
        scaleY: 1,
      });

      // Hojas doradas (ABAJO)
      gsap.set("#hoja-dorada-fecha-izq", {
        opacity: 0,
        x: -20,
        rotation: 0,
        scale: 1,
      });
      gsap.set("#hoja-dorada-fecha-der", {
        opacity: 0,
        x: 20,
        rotation: 0,
        scaleX: -1,
        scaleY: 1,
      });

      gsap.set("#texto-invitacion", { opacity: 0, scale: 0.9 });
      gsap.set("#anio-evento", { opacity: 0, scale: 0.9 });
      gsap.set("#fecha-evento", { opacity: 0, scale: 0.9 });
      gsap.set("#hora-evento", { opacity: 0, scale: 0.9 });

      // ‚ú® ANIMACI√ìN
      ScrollTrigger.create({
        trigger: "#palomas-container",
        start: "top 85%",
        end: "top 20%",

        onEnter: () => {
          separacionActual = getSeparacion();
          const tl = gsap.timeline();

          tl.to(
            "#paloma-izq, #paloma-der",
            {
              opacity: 1,
              duration: 1.5,
              ease: "power2.out",
            },
            0,
          )
            .to(
              "#paloma-izq",
              {
                x: -separacionActual,
                duration: 2.5,
                ease: "power2.out",
              },
              0,
            )
            .to(
              "#paloma-der",
              {
                x: separacionActual,
                duration: 2.5,
                ease: "power2.out",
              },
              0,
            )
            .to(
              "#texto-invitacion, #anio-evento, #fecha-evento, #hora-evento",
              {
                opacity: 1,
                scale: 1,
                duration: 1,
                ease: "back.out(1.2)",
              },
              0.8,
            )
            // 2Ô∏è‚É£ FLORES LATERALES (ENCIMA) - A LOS 0.5 SEGUNDOS
            .to(
              "#hoja-fecha-izq",
              {
                opacity: 0.8,
                x: 0,
                duration: 1,
                ease: "power2.out",
              },
              1.3,
            )
            .to(
              "#hoja-fecha-der",
              {
                opacity: 0.8,
                x: 0,
                duration: 1,
                ease: "power2.out",
              },
              1.3,
            )
            // 3Ô∏è‚É£ HOJAS DORADAS (ABAJO) - 1 SEGUNDO DESPU√âS
            .to(
              "#hoja-dorada-fecha-izq",
              {
                opacity: 0.9,
                x: 0,
                duration: 1,
                ease: "power2.out",
              },
              2.3,
            )
            .to(
              "#hoja-dorada-fecha-der",
              {
                opacity: 0.9,
                x: 0,
                duration: 1,
                ease: "power2.out",
              },
              2.3,
            );

          // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
          // üçÉ MOVIMIENTOS NATURALES SUAVES
          // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

          // Flor lateral izquierda - Movimiento suave
          gsap.to("#hoja-fecha-izq", {
            y: -10,
            x: -5,
            rotation: -8,
            duration: 3.5,
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut",
            delay: 3.3,
          });

          // Flor lateral derecha
          gsap.to("#hoja-fecha-der", {
            y: -8,
            x: 5,
            rotation: 8,
            duration: 3.8,
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut",
            delay: 3.5,
          });

          // Hoja dorada izquierda - Balanceo suave
          gsap.to("#hoja-dorada-fecha-izq", {
            y: -12,
            rotation: -10,
            duration: 4,
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut",
            delay: 3.8,
          });

          // Hoja dorada derecha
          gsap.to("#hoja-dorada-fecha-der", {
            y: -11,
            rotation: 10,
            duration: 4.3,
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut",
            delay: 4,
          });

          // ‚ïê‚ïê‚ïê RESPIRACI√ìN M√ÅS SUTIL (SCALE) ‚ïê‚ïê‚ïê
          gsap.to("#hoja-dorada-fecha-izq", {
            scale: 0.85,
            duration: 4.5,
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut",
            delay: 4.2,
          });

          gsap.to("#hoja-dorada-fecha-der", {
            scaleX: -0.85,
            scaleY: 0.85,
            duration: 5,
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut",
            delay: 4.5,
          });

          // ‚ïê‚ïê‚ïê EFECTO BRISA M√ÅS SUTIL ‚ïê‚ïê‚ïê
          gsap.to("#hoja-fecha-izq", {
            x: -8,
            duration: 5.5,
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut",
            delay: 4.8,
          });

          gsap.to("#hoja-fecha-der", {
            x: 8,
            duration: 6,
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut",
            delay: 5,
          });
        },

        onLeaveBack: () => {
          // Detener TODAS las animaciones continuas
          gsap.killTweensOf("#hoja-fecha-izq");
          gsap.killTweensOf("#hoja-fecha-der");
          gsap.killTweensOf("#hoja-dorada-fecha-izq");
          gsap.killTweensOf("#hoja-dorada-fecha-der");

          const tl = gsap.timeline();

          tl.to(
            "#paloma-izq, #paloma-der, #hoja-fecha-izq, #hoja-fecha-der, #hoja-dorada-fecha-izq, #hoja-dorada-fecha-der, #texto-invitacion, #anio-evento, #fecha-evento, #hora-evento",
            {
              opacity: 0,
              duration: 0.5,
              ease: "power2.in",
            },
          )
            .to(
              "#paloma-izq",
              { x: -200, duration: 0.5, ease: "power2.in" },
              "<",
            )
            .to(
              "#paloma-der",
              { x: 200, duration: 0.5, ease: "power2.in" },
              "<",
            )
            .to(
              "#texto-invitacion, #anio-evento, #fecha-evento, #hora-evento",
              { scale: 0.9, duration: 0.5, ease: "power2.in" },
              "<",
            )
            // Mover flores laterales hacia afuera
            .to(
              "#hoja-fecha-izq",
              {
                x: -20,
                y: 0,
                duration: 0.5,
                ease: "power2.in",
              },
              "<",
            )
            .to(
              "#hoja-fecha-der",
              {
                x: 20,
                y: 0,
                duration: 0.5,
                ease: "power2.in",
              },
              "<",
            )
            // Mover hojas doradas hacia afuera
            .to(
              "#hoja-dorada-fecha-izq",
              {
                x: -20,
                y: 0,
                duration: 0.5,
                ease: "power2.in",
              },
              "<",
            )
            .to(
              "#hoja-dorada-fecha-der",
              {
                x: 20,
                y: 0,
                duration: 0.5,
                ease: "power2.in",
              },
              "<",
            )
            // Resetear rotaciones y scales
            .set("#hoja-fecha-izq", {
              rotation: 0,
              scale: 1,
            })
            .set("#hoja-fecha-der", {
              rotation: 0,
              scaleX: -1,
              scaleY: 1,
            })
            .set("#hoja-dorada-fecha-izq", {
              rotation: 0,
              scale: 1,
            })
            .set("#hoja-dorada-fecha-der", {
              rotation: 0,
              scaleX: -1,
              scaleY: 1,
            });
        },
      });

      // üì± RESIZE
      let resizeTimeout;
      window.addEventListener("resize", () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
          const nuevaSeparacion = getSeparacion();
          if (nuevaSeparacion !== separacionActual) {
            separacionActual = nuevaSeparacion;
            gsap.to("#paloma-izq", { x: -separacionActual, duration: 0.3 });
            gsap.to("#paloma-der", { x: separacionActual, duration: 0.3 });
          }
        }, 150);
      });

      console.log("‚ú® Animaciones listas!");
    });
  }
</script>
