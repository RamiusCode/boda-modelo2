---
// CeremoniaReligiosa.astro
---

<section class="relative w-full py-8 px-6">
    <!-- HOJAS DECORATIVAS - Pegadas a los bordes de la pantalla -->

    <!-- Hoja izquierda - AL BORDE IZQUIERDO -->
    <img
        src="/imagenes/florlateral.png"
        alt="hojas"
        class="absolute left-0 top-20 md:top-24 w-16 h-16 md:w-20 md:h-20 opacity-0 pointer-events-none z-10"
        id="hoja-ceremonia-left"
    />

    <!-- Hoja derecha - AL BORDE DERECHO (volteada horizontalmente) -->
    <img
        src="/imagenes/florlateral.png"
        alt="hojas"
        class="absolute right-0 top-20 md:top-24 w-16 h-16 md:w-16 md:h-16 opacity-0 pointer-events-none z-10 scale-x-[-1]"
        id="hoja-ceremonia-right"
    />

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="max-w-md mx-auto" id="wrapper-ceremonia">
        <!-- CEREMONIA RELIGIOSA -->
        <div class="text-center opacity-0" id="ceremonia-content">
            <!-- T√≠tulo -->
            <h3
                class="text-[#9C7A2E] tracking-[0.2em] uppercase text-xl md:text-2xl lg:text-2xl xl:text-3xl font-semibold mb-6"
            >
                Ceremonia Religiosa
            </h3>

            <!-- Icono Iglesia -->
            <div class="flex justify-center mb-6">
                <img
                    src="/iconos/iglesia.png"
                    alt="Icono Iglesia"
                    class="w-16 h-16 md:w-20 md:h-20 object-contain dorado-filter"
                    id="icono-iglesia"
                />
            </div>

            <!-- Nombre de la Iglesia -->
            <p
                class="font-charm text-[#0F3D2E] text-2xl md:text-3xl lg:text-3xl xl:text-4xl mb-3"
            >
                Parroquia Santa Rosa de Lima
            </p>

            <!-- Direcci√≥n -->
            <p
                class="text-[#0F3D2E]/70 text-base md:text-xl lg:text-2xl xl:text-3xl mb-6"
            >
                Av. Principal #123, Centro Hist√≥rico
            </p>

            <!-- Hora y Bot√≥n -->
            <div class="flex items-center justify-center gap-3">
                <!-- Recuadro de Hora -->
                <div
                    class="bg-transparent border-2 border-gray-400 rounded px-6 py-2.5"
                >
                    <p
                        class="text-sm md:text-base lg:text-lg xl:text-xl text-[#0F3D2E] font-semibold"
                    >
                        17:00 HRS.
                    </p>
                </div>

                <!-- Bot√≥n Ubicaci√≥n con MANO -->
                <div class="relative">
                    <a
                        href="https://maps.app.goo.gl/UZ8VbLJUVFuGKBdK8"
                        target="_blank"
                        class="bg-[#4E5F49] hover:bg-[#3d4a39]
                    text-white px-6 py-2.5 rounded text-sm md:text-base lg:text-lg xl:text-xl
                    font-semibold transition-all duration-300 shadow-md
                    hover:shadow-lg block"
                        id="boton-ubicacion"
                    >
                        Ver ubicaci√≥n
                    </a>

                    <!-- MANO apuntando al bot√≥n -->
                    <img
                        src="/imagenes/mano.png"
                        alt="Presionar aqu√≠"
                        class="absolute -bottom-4 -right-4 w-8 h-8 object-contain opacity-0 pointer-events-none z-20"
                        id="mano-pointer"
                    />
                </div>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <!-- üé¨ ANIMACIONES CON GSAP                                     -->
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <script>
        import { gsap } from "gsap";
        import { ScrollTrigger } from "gsap/ScrollTrigger";

        gsap.registerPlugin(ScrollTrigger);

        const initCeremoniaReligiosa = () => {
            console.log("‚õ™ Iniciando componente Ceremonia Religiosa...");

            // ‚ïê‚ïê‚ïê ESTADO INICIAL ‚ïê‚ïê‚ïê
            gsap.set("#ceremonia-content", {
                opacity: 0,
                y: 30,
            });
            gsap.set("#hoja-ceremonia-left", {
                opacity: 0,
                x: -20,
            });
            gsap.set("#hoja-ceremonia-right", {
                opacity: 0,
                x: 20,
            });
            gsap.set("#mano-pointer", {
                opacity: 0,
                scale: 0.8,
            });

            // ‚ïê‚ïê‚ïê ANIMACI√ìN AL ENTRAR ‚ïê‚ïê‚ïê
            ScrollTrigger.create({
                trigger: "#wrapper-ceremonia",
                start: "top 80%",
                end: "top 20%",

                onEnter: () => {
                    const tl = gsap.timeline();

                    // 1Ô∏è‚É£ TODO EL CONTENIDO (texto + botones) AL MISMO TIEMPO
                    tl.to(
                        "#ceremonia-content",
                        {
                            opacity: 1,
                            y: 0,
                            duration: 1.2,
                            ease: "power3.out",
                        },
                        0,
                    )

                        // 2Ô∏è‚É£ MEDIO SEGUNDO DESPU√âS: FLORES LATERALES
                        .to(
                            "#hoja-ceremonia-left",
                            {
                                opacity: 0.8,
                                x: 0,
                                duration: 1,
                                ease: "power2.out",
                            },
                            0.5,
                        )

                        .to(
                            "#hoja-ceremonia-right",
                            {
                                opacity: 0.8,
                                x: 0,
                                duration: 1,
                                ease: "power2.out",
                            },
                            0.5,
                        )

                        // 3Ô∏è‚É£ MANO despu√©s de todo
                        .to(
                            "#mano-pointer",
                            {
                                opacity: 1,
                                scale: 1,
                                duration: 0.5,
                                ease: "back.out(2)",
                            },
                            1.5,
                        );

                    // ‚ïê‚ïê‚ïê ANIMACI√ìN DE PRESIONAR BOT√ìN (loop infinito) ‚ïê‚ïê‚ïê
                    gsap.to("#mano-pointer", {
                        scale: 0.9,
                        duration: 0.6,
                        ease: "power1.inOut",
                        repeat: -1,
                        yoyo: true,
                        delay: 2,
                    });
                },

                onLeaveBack: () => {
                    const tl = gsap.timeline();

                    // Detener la animaci√≥n de la mano
                    gsap.killTweensOf("#mano-pointer");

                    tl.to(
                        "#ceremonia-content, #hoja-ceremonia-left, #hoja-ceremonia-right, #mano-pointer",
                        {
                            opacity: 0,
                            duration: 0.5,
                            ease: "power2.in",
                        },
                    )
                        .to(
                            "#ceremonia-content",
                            {
                                y: 30,
                                duration: 0.5,
                                ease: "power2.in",
                            },
                            "<",
                        )
                        .to(
                            "#hoja-ceremonia-left",
                            {
                                x: -20,
                                duration: 0.5,
                                ease: "power2.in",
                            },
                            "<",
                        )
                        .to(
                            "#hoja-ceremonia-right",
                            {
                                x: 20,
                                duration: 0.5,
                                ease: "power2.in",
                            },
                            "<",
                        )
                        .to(
                            "#mano-pointer",
                            {
                                scale: 0.8,
                                duration: 0.5,
                                ease: "power2.in",
                            },
                            "<",
                        );
                },
            });

            console.log("‚õ™‚ú® Ceremonia Religiosa activada!");
        };

        document.addEventListener("DOMContentLoaded", initCeremoniaReligiosa);
        document.addEventListener("astro:page-load", initCeremoniaReligiosa);
    </script>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <!-- üé® ESTILOS PARA CONVERTIR IM√ÅGENES NEGRAS A DORADO          -->
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <style>
        /* Filtro que convierte im√°genes PNG negras al color dorado #9C7A2E */
        .dorado-filter {
            filter: brightness(0) saturate(100%) invert(56%) sepia(77%)
                saturate(419%) hue-rotate(5deg) brightness(94%) contrast(92%);
        }
    </style>
</section>
